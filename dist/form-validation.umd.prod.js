!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).FormValidation=t.FormValidation||{})}(this,(function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,r)};var r=function(){return(r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function n(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{u(n.next(t))}catch(t){i(t)}}function a(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function o(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}var a=Object.prototype.toString,u=function(t){return"[object Object]"===a.call(t)},l=function(t){return Array.isArray(t)},c=Object.prototype.hasOwnProperty,p=function(t,e){return c.call(t,e)},f="__detto_path__",h=function(t){Object.defineProperty(t,"__detto_ob__",{enumerable:!1,configurable:!0,writable:!0,value:t})},g=function(t,e){Object.defineProperty(t,f,{enumerable:!1,configurable:!0,writable:!0,value:e})},d=/^\d+$/,y=function(t,e,r,n){if(n(e,r),!1!==u(t)||!1!==l(t))for(var o=new Set(Object.keys(t)),i=0,s=Object.keys(e).filter((function(t){return o.has(t)}));i<s.length;i++){var a=s[i];y(t[a],e[a],r.concat(a),n)}},v=function(t){var e=t.object,r=t.detto,n=t.callback;return w({object:e,detto:r,path:[],callback:void 0===n?function(){}:n})},m=new Set(["pop","push","shift","unshift","splice","reverse"]),$=new WeakMap,b=new WeakMap,w=function(t){var e=t.object,r=t.detto,n=t.path,o=t.callback;if(p(e,"__detto_ob__"))return e;h(e),g(r,n),o(r,n);for(var a={deleteProperty:function(t,e){return null===c&&(Reflect.deleteProperty(r,e),o(r,n),_(t[e])),Reflect.deleteProperty(t,e)}},c=null,v=[],k=[],R=0,P=0,A=function(){c=null,v.length=0,k.length=0,R=0,P=0},S={set:function(t,e,i,a){if("pop"===c)return"length"===e&&(r.pop(),r[e]=i,o(r,n),A()),Reflect.set(t,e,i,a);if("push"===c){if("length"===e){var h=v.pop(),m=u(h),$=l(h),b=r.length+"";r.push($?[]:{}),g(r[b],n.concat(b)),r[e]=i,o(r,n),m||$?Reflect.set(t,b,w({object:h,detto:r[b],path:n.concat(b),callback:o}),a):o(r[b],n.concat(b)),A()}else v.push(i);return Reflect.set(t,e,i,a)}if("shift"===c){if("length"===e){for(var _=0,S=Object.keys(t);_<S.length;_++){var O=S[_],D=(G=parseInt(O,10))+1+"";r[O]=r[D]}r.pop(),r[e]=i,y(t,r,n,(function(t,e){var r;(r=t[f]).splice.apply(r,s([0,e.length],e))})),y(t,r,n,(function(t,e){o(t,e)})),A()}return Reflect.set(t,e,i,a)}if("unshift"===c){if("length"===e){var T=v.pop();m=u(T),$=l(T),r.reverse(),r.push($?[]:{}),r.reverse(),g(r[0],n.concat("0")),r[e]=i,y(t,r,n,(function(t,e){var r;(r=t[f]).splice.apply(r,s([0,e.length],e))})),o(r,n),m||$?Reflect.set(t,0,w({object:T,detto:r[0],path:n.concat("0"),callback:o}),a):o(r[0],n.concat("0"));for(var x=0,j=Object.keys(t);x<j.length;x++){var I=j[x];"0"!==I&&y(t[I],r[I],n.concat(I),(function(t,e){o(t,e)}))}A()}else v.push(i);return Reflect.set(t,e,i,a)}if("splice"===c){if("length"===e){for(var C=[],B=[],U=null,M="-1",F=0,Y=k;F<Y.length;F++){var H=Y[F],V=H[0],z=H[1];"set"===V&&("get"===U&&parseInt(z,10)>parseInt(M,10)?(C.push(z),r[z]=r[M]):(B.push(z),r[z]=l(t[z])?[]:{},g(r[z],n.concat(z)))),U=V,M=z}C.sort(),r[e]=i;var L=C.map((function(t){return parseInt(t,10)})),N=B.map((function(t){return parseInt(t,10)})),W=parseInt(i,10)-1,J=Math.min.apply(Math,s(L,N)),G=void 0;for(G=J-1;++G<=W;){var q=G+"";y(t[q],r[q],n.concat(q),(function(t,e){var r;(r=t[f]).splice.apply(r,s([0,e.length],e))}))}for(o(r,n),G=J-1;++G<=W;){var K=G+"";m=u(t[K]),$=l(t[K]),m||$?t[K]=w({object:t[K],detto:r[K],path:n.concat(K),callback:o}):(!1===p(r,K)&&(r[K]={},g(r[K],n.concat(K))),o(r[K],n.concat(K)))}for(G=J-1;++G<=W;){var Z=G+"";t[Z]=E(t[Z])}A()}else k.push(["set",e,i]);return Reflect.set(t,e,i,a)}if("reverse"===c){if(++R>=P){var Q=r.length,X=Math.floor(Q/2);for(G=-1;++G<X;){var tt=r[G];r[G]=r[Q-G-1],r[Q-G-1]=tt}for(y(t,r,r[f],(function(t,e){var r;(r=t[f]).splice.apply(r,s([0,e.length],e))})),o(r,n),G=-1;++G<Q;)Q%2==1&&G===X||y(t[G],r[G],r[G][f],(function(t,e){o(t,e)}));A()}return Reflect.set(t,e,i,a)}return m=u(i),$=l(i),"string"!=typeof e||"length"===e||!1===d.test(e)?r[e]=i:m||$?(!1!==p(r,e)&&$===l(r[e])||(r[e]=$?[]:{}),i=w({object:i,detto:r[e],path:n.concat(e),callback:o})):(!1===p(r,e)&&(r[e]={},g(r[e],n.concat(e))),o(r[e],n.concat(e))),Reflect.set(t,e,i,a)},get:function(t,e,r){var n=Reflect.get(t,e,r);if("string"!=typeof e||!1===m.has(e)&&"length"!==e&&!1===d.test(e))return n;switch(e){default:"reverse"===c&&("length"===e?(P=2*n,n%2==1&&(P-=2),n<=1&&A()):++R),c&&["push","unshift"].includes(c)&&"length"!==e?v.push(n):"splice"===c&&"length"!==e&&k.push(["get",e]),d.test(e)&&("splice"===c||"pop"===c||"shift"===c&&"0"===e)&&(n=_(n));break;case"pop":case"push":case"shift":case"unshift":case"splice":case"reverse":c=e}return n}},O={set:function(t,e,i,s){var a=u(i),c=l(i);return a||c?(!1!==p(r,e)&&c===l(r[e])||(r[e]=c?[]:{},g(r[e],n.concat(e))),i=w({object:i,detto:r[e],path:n.concat(e),callback:o})):(!1===p(r,e)&&(r[e]={},g(r[e],n.concat(e))),o(r[e],n.concat(e))),Reflect.set(t,e,i,s)}},D=l(e),T=D?Proxy.revocable(e,i(i({},a),S)):Proxy.revocable(e,i(i({},a),O)),x=Object.keys(e),j=new Set(x),I=0,C=x;I<C.length;I++){var B=C[I];T.proxy[B]=e[B]}for(var U=0,M=Object.keys(r);U<M.length;U++)B=M[U],!1===j.has(B)&&"string"==typeof B&&d.test(B)&&delete r[B];return D&&(r.length=e.length),$.set(T.proxy,e),b.set(e,T.proxy),T.proxy},_=function(t){if(!1===$.has(t))return t;var e=$.get(t);delete e.__detto_ob__;for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];e[o]=_(t[o])}return e},E=function(t){if(!1===b.has(t))return t;var e=b.get(t);h(e);for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];t[o]=E(e[o])}return e};function k(t){return Object.prototype.toString.call(t)}function R(t){return"[object Object]"===k(t)}function P(t){return"[object Array]"===k(t)}function A(t){return null!==t&&"object"==typeof t&&function(t){return"function"==typeof t}(t.then)}function S(t,e){return t.hasOwnProperty(e)}function O(t){return!1===R(t)&&!1===P(t)?[]:Object.keys(t)}function D(t,e){if(0===e.length)return t;var r=t;return e.slice(0,-1).forEach((function(t){r=r[t]})),r[e[e.length-1]]}function T(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var x=function(t){var e=C();void 0===t.$params&&(t.$params=e.$params),void 0===t.$normalizer&&(t.$normalizer=e.$normalizer),void 0===t.$rules&&(t.$rules=e.$rules),void 0===t.$messages&&(t.$messages=e.$messages);for(var r=0,n=O(t.$rules);r<n.length;r++){var o=n[r];!1===S(t.$messages,o)&&(t.$messages[o]=T)}for(var i=0,s=O(t);i<s.length;i++){S(e,o=s[i])||(t[o]=x(t[o]))}return t},j=function(t){var e=t.rootSchema,r=t.path,n=I({rootSchema:e,path:r.slice(),startIndex:0});if(n)return n;var o=C();return o.$noSchemaSpecified=!0,o},I=function(t){var e=t.rootSchema,r=t.path,n=t.startIndex,o=null;if(n===r.length){try{o=D(e,r)}catch(t){}return o&&o.$rules?o:null}if(null!==(o=I({rootSchema:e,path:r,startIndex:n+1})))return o;var i=r[n];return r[n]="$iter",null!==(o=I({rootSchema:e,path:r,startIndex:n+1}))?o:(r[n]=i,null)},C=function(){return{$noSchemaSpecified:!1,$params:{},$normalizer:function(t){return t.value},$rules:{},$messages:{}}};function B(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},M=[],F=[],Y="undefined"!=typeof Uint8Array?Uint8Array:Array,H=!1;function V(){H=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)M[e]=t[e],F[t.charCodeAt(e)]=e;F["-".charCodeAt(0)]=62,F["_".charCodeAt(0)]=63}function z(t,e,r){for(var n,o,i=[],s=e;s<r;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(M[(o=n)>>18&63]+M[o>>12&63]+M[o>>6&63]+M[63&o]);return i.join("")}function L(t){var e;H||V();for(var r=t.length,n=r%3,o="",i=[],s=0,a=r-n;s<a;s+=16383)i.push(z(t,s,s+16383>a?a:s+16383));return 1===n?(e=t[r-1],o+=M[e>>2],o+=M[e<<4&63],o+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],o+=M[e>>10],o+=M[e>>4&63],o+=M[e<<2&63],o+="="),i.push(o),i.join("")}function N(t,e,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,l=u>>1,c=-7,p=r?o-1:0,f=r?-1:1,h=t[e+p];for(p+=f,i=h&(1<<-c)-1,h>>=-c,c+=a;c>0;i=256*i+t[e+p],p+=f,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=256*s+t[e+p],p+=f,c-=8);if(0===i)i=1-l;else{if(i===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),i-=l}return(h?-1:1)*s*Math.pow(2,i-n)}function W(t,e,r,n,o,i){var s,a,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,g=n?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(s++,u/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(e*u-1)*Math.pow(2,o),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;t[r+h]=255&a,h+=g,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;t[r+h]=255&s,h+=g,s/=256,l-=8);t[r+h-g]|=128*d}var J={}.toString,G=Array.isArray||function(t){return"[object Array]"==J.call(t)};function q(){return Z.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function K(t,e){if(q()<e)throw new RangeError("Invalid typed array length");return Z.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Z.prototype:(null===t&&(t=new Z(e)),t.length=e),t}function Z(t,e,r){if(!(Z.TYPED_ARRAY_SUPPORT||this instanceof Z))return new Z(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return tt(this,t)}return Q(this,t,e,r)}function Q(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);Z.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Z.prototype:t=et(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!Z.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|ot(e,r),o=(t=K(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(nt(e)){var r=0|rt(e.length);return 0===(t=K(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?K(t,0):et(t,e);if("Buffer"===e.type&&G(e.data))return et(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function X(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function tt(t,e){if(X(e),t=K(t,e<0?0:0|rt(e)),!Z.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function et(t,e){var r=e.length<0?0:0|rt(e.length);t=K(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function rt(t){if(t>=q())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+q().toString(16)+" bytes");return 0|t}function nt(t){return!(null==t||!t._isBuffer)}function ot(t,e){if(nt(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Dt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Tt(t).length;default:if(n)return Dt(t).length;e=(""+e).toLowerCase(),n=!0}}function it(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return $t(this,e,r);case"utf8":case"utf-8":return yt(this,e,r);case"ascii":return vt(this,e,r);case"latin1":case"binary":return mt(this,e,r);case"base64":return dt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bt(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function st(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function at(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=Z.from(e,n)),nt(e))return 0===e.length?-1:ut(t,e,r,n,o);if("number"==typeof e)return e&=255,Z.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):ut(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function ut(t,e,r,n,o){var i,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var c=-1;for(i=r;i<a;i++)if(l(t,i)===l(e,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*s}else-1!==c&&(i-=i-c),c=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var p=!0,f=0;f<u;f++)if(l(t,i+f)!==l(e,f)){p=!1;break}if(p)return i}return-1}function lt(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function ct(t,e,r,n){return xt(Dt(e,t.length-r),t,r,n)}function pt(t,e,r,n){return xt(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function ft(t,e,r,n){return pt(t,e,r,n)}function ht(t,e,r,n){return xt(Tt(e),t,r,n)}function gt(t,e,r,n){return xt(function(t,e){for(var r,n,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function dt(t,e,r){return 0===e&&r===t.length?L(t):L(t.slice(e,r))}function yt(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,s,a,u,l=t[o],c=null,p=l>239?4:l>223?3:l>191?2:1;if(o+p<=r)switch(p){case 1:l<128&&(c=l);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&l)<<6|63&i)>127&&(c=u);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(u=(15&l)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,p=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=p}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}Z.TYPED_ARRAY_SUPPORT=void 0===U.TYPED_ARRAY_SUPPORT||U.TYPED_ARRAY_SUPPORT,Z.poolSize=8192,Z._augment=function(t){return t.__proto__=Z.prototype,t},Z.from=function(t,e,r){return Q(null,t,e,r)},Z.TYPED_ARRAY_SUPPORT&&(Z.prototype.__proto__=Uint8Array.prototype,Z.__proto__=Uint8Array),Z.alloc=function(t,e,r){return function(t,e,r,n){return X(e),e<=0?K(t,e):void 0!==r?"string"==typeof n?K(t,e).fill(r,n):K(t,e).fill(r):K(t,e)}(null,t,e,r)},Z.allocUnsafe=function(t){return tt(null,t)},Z.allocUnsafeSlow=function(t){return tt(null,t)},Z.isBuffer=jt,Z.compare=function(t,e){if(!nt(t)||!nt(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},Z.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Z.concat=function(t,e){if(!G(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Z.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Z.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var i=t[r];if(!nt(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},Z.byteLength=ot,Z.prototype._isBuffer=!0,Z.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)st(this,e,e+1);return this},Z.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)st(this,e,e+3),st(this,e+1,e+2);return this},Z.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)st(this,e,e+7),st(this,e+1,e+6),st(this,e+2,e+5),st(this,e+3,e+4);return this},Z.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?yt(this,0,t):it.apply(this,arguments)},Z.prototype.equals=function(t){if(!nt(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Z.compare(this,t)},Z.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Z.prototype.compare=function(t,e,r,n,o){if(!nt(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),a=Math.min(i,s),u=this.slice(n,o),l=t.slice(e,r),c=0;c<a;++c)if(u[c]!==l[c]){i=u[c],s=l[c];break}return i<s?-1:s<i?1:0},Z.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},Z.prototype.indexOf=function(t,e,r){return at(this,t,e,r,!0)},Z.prototype.lastIndexOf=function(t,e,r){return at(this,t,e,r,!1)},Z.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return lt(this,t,e,r);case"utf8":case"utf-8":return ct(this,t,e,r);case"ascii":return pt(this,t,e,r);case"latin1":case"binary":return ft(this,t,e,r);case"base64":return ht(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function vt(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function mt(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function $t(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=Ot(t[i]);return o}function bt(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function wt(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function _t(t,e,r,n,o,i){if(!nt(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function Et(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function kt(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function Rt(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Pt(t,e,r,n,o){return o||Rt(t,0,r,4),W(t,e,r,n,23,4),r+4}function At(t,e,r,n,o){return o||Rt(t,0,r,8),W(t,e,r,n,52,8),r+8}Z.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),Z.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Z.prototype;else{var o=e-t;r=new Z(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},Z.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||wt(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},Z.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||wt(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},Z.prototype.readUInt8=function(t,e){return e||wt(t,1,this.length),this[t]},Z.prototype.readUInt16LE=function(t,e){return e||wt(t,2,this.length),this[t]|this[t+1]<<8},Z.prototype.readUInt16BE=function(t,e){return e||wt(t,2,this.length),this[t]<<8|this[t+1]},Z.prototype.readUInt32LE=function(t,e){return e||wt(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Z.prototype.readUInt32BE=function(t,e){return e||wt(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Z.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||wt(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},Z.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||wt(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},Z.prototype.readInt8=function(t,e){return e||wt(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Z.prototype.readInt16LE=function(t,e){e||wt(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Z.prototype.readInt16BE=function(t,e){e||wt(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Z.prototype.readInt32LE=function(t,e){return e||wt(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Z.prototype.readInt32BE=function(t,e){return e||wt(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Z.prototype.readFloatLE=function(t,e){return e||wt(t,4,this.length),N(this,t,!0,23,4)},Z.prototype.readFloatBE=function(t,e){return e||wt(t,4,this.length),N(this,t,!1,23,4)},Z.prototype.readDoubleLE=function(t,e){return e||wt(t,8,this.length),N(this,t,!0,52,8)},Z.prototype.readDoubleBE=function(t,e){return e||wt(t,8,this.length),N(this,t,!1,52,8)},Z.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||_t(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},Z.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||_t(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},Z.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||_t(this,t,e,1,255,0),Z.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Z.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||_t(this,t,e,2,65535,0),Z.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Et(this,t,e,!0),e+2},Z.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||_t(this,t,e,2,65535,0),Z.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Et(this,t,e,!1),e+2},Z.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||_t(this,t,e,4,4294967295,0),Z.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):kt(this,t,e,!0),e+4},Z.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||_t(this,t,e,4,4294967295,0),Z.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):kt(this,t,e,!1),e+4},Z.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);_t(this,t,e,r,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},Z.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);_t(this,t,e,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},Z.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||_t(this,t,e,1,127,-128),Z.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Z.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||_t(this,t,e,2,32767,-32768),Z.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):Et(this,t,e,!0),e+2},Z.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||_t(this,t,e,2,32767,-32768),Z.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):Et(this,t,e,!1),e+2},Z.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||_t(this,t,e,4,2147483647,-2147483648),Z.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):kt(this,t,e,!0),e+4},Z.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||_t(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Z.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):kt(this,t,e,!1),e+4},Z.prototype.writeFloatLE=function(t,e,r){return Pt(this,t,e,!0,r)},Z.prototype.writeFloatBE=function(t,e,r){return Pt(this,t,e,!1,r)},Z.prototype.writeDoubleLE=function(t,e,r){return At(this,t,e,!0,r)},Z.prototype.writeDoubleBE=function(t,e,r){return At(this,t,e,!1,r)},Z.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!Z.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},Z.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Z.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var s=nt(t)?t:Dt(new Z(t,n).toString()),a=s.length;for(i=0;i<r-e;++i)this[i+e]=s[i%a]}return this};var St=/[^+\/0-9A-Za-z-_]/g;function Ot(t){return t<16?"0"+t.toString(16):t.toString(16)}function Dt(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function Tt(t){return function(t){var e,r,n,o,i,s;H||V();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===t[a-2]?2:"="===t[a-1]?1:0,s=new Y(3*a/4-i),n=i>0?a-4:a;var u=0;for(e=0,r=0;e<n;e+=4,r+=3)o=F[t.charCodeAt(e)]<<18|F[t.charCodeAt(e+1)]<<12|F[t.charCodeAt(e+2)]<<6|F[t.charCodeAt(e+3)],s[u++]=o>>16&255,s[u++]=o>>8&255,s[u++]=255&o;return 2===i?(o=F[t.charCodeAt(e)]<<2|F[t.charCodeAt(e+1)]>>4,s[u++]=255&o):1===i&&(o=F[t.charCodeAt(e)]<<10|F[t.charCodeAt(e+1)]<<4|F[t.charCodeAt(e+2)]>>2,s[u++]=o>>8&255,s[u++]=255&o),s}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(St,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function xt(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function jt(t){return null!=t&&(!!t._isBuffer||It(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&It(t.slice(0,0))}(t))}function It(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Ct=U.performance||{},Bt=(Ct.now||Ct.mozNow||Ct.msNow||Ct.oNow||Ct.webkitNow,"function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}),Ut=/%[sdj%]/g;function Mt(t){if(!te(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(zt(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(t).replace(Ut,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),s=n[r];r<o;s=n[++r])Zt(s)||!oe(s)?i+=" "+s:i+=" "+zt(s);return i}function Ft(t,e){if(re(U.process))return function(){return Ft(t,e).apply(this,arguments)};var r=!1;return function(){return r||(console.error(e),r=!0),t.apply(this,arguments)}}var Yt,Ht={};function Vt(t){if(re(Yt)&&(Yt=""),t=t.toUpperCase(),!Ht[t])if(new RegExp("\\b"+t+"\\b","i").test(Yt)){Ht[t]=function(){var e=Mt.apply(null,arguments);console.error("%s %d: %s",t,0,e)}}else Ht[t]=function(){};return Ht[t]}function zt(t,e){var r={seen:[],stylize:Nt};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Kt(e)?r.showHidden=e:e&&de(r,e),re(r.showHidden)&&(r.showHidden=!1),re(r.depth)&&(r.depth=2),re(r.colors)&&(r.colors=!1),re(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Lt),Wt(r,t,r.depth)}function Lt(t,e){var r=zt.styles[e];return r?"["+zt.colors[r][0]+"m"+t+"["+zt.colors[r][1]+"m":t}function Nt(t,e){return t}function Wt(t,e,r){if(t.customInspect&&e&&ae(e.inspect)&&e.inspect!==zt&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return te(n)||(n=Wt(t,n,r)),n}var o=function(t,e){if(re(e))return t.stylize("undefined","undefined");if(te(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(Xt(e))return t.stylize(""+e,"number");if(Kt(e))return t.stylize(""+e,"boolean");if(Zt(e))return t.stylize("null","null")}(t,e);if(o)return o;var i=Object.keys(e),s=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),se(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return Jt(e);if(0===i.length){if(ae(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(ne(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(ie(e))return t.stylize(Date.prototype.toString.call(e),"date");if(se(e))return Jt(e)}var u,l="",c=!1,p=["{","}"];(qt(e)&&(c=!0,p=["[","]"]),ae(e))&&(l=" [Function"+(e.name?": "+e.name:"")+"]");return ne(e)&&(l=" "+RegExp.prototype.toString.call(e)),ie(e)&&(l=" "+Date.prototype.toUTCString.call(e)),se(e)&&(l=" "+Jt(e)),0!==i.length||c&&0!=e.length?r<0?ne(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=c?function(t,e,r,n,o){for(var i=[],s=0,a=e.length;s<a;++s)ye(e,String(s))?i.push(Gt(t,e,r,n,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(Gt(t,e,r,n,o,!0))})),i}(t,e,r,s,i):i.map((function(n){return Gt(t,e,r,s,n,c)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(u,l,p)):p[0]+l+p[1]}function Jt(t){return"["+Error.prototype.toString.call(t)+"]"}function Gt(t,e,r,n,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),ye(n,o)||(s="["+o+"]"),a||(t.seen.indexOf(u.value)<0?(a=Zt(r)?Wt(t,u.value,null):Wt(t,u.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),re(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function qt(t){return Array.isArray(t)}function Kt(t){return"boolean"==typeof t}function Zt(t){return null===t}function Qt(t){return null==t}function Xt(t){return"number"==typeof t}function te(t){return"string"==typeof t}function ee(t){return"symbol"==typeof t}function re(t){return void 0===t}function ne(t){return oe(t)&&"[object RegExp]"===ce(t)}function oe(t){return"object"==typeof t&&null!==t}function ie(t){return oe(t)&&"[object Date]"===ce(t)}function se(t){return oe(t)&&("[object Error]"===ce(t)||t instanceof Error)}function ae(t){return"function"==typeof t}function ue(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function le(t){return jt(t)}function ce(t){return Object.prototype.toString.call(t)}function pe(t){return t<10?"0"+t.toString(10):t.toString(10)}zt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},zt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function he(){var t=new Date,e=[pe(t.getHours()),pe(t.getMinutes()),pe(t.getSeconds())].join(":");return[t.getDate(),fe[t.getMonth()],e].join(" ")}function ge(){console.log("%s - %s",he(),Mt.apply(null,arguments))}function de(t,e){if(!e||!oe(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function ye(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var ve={inherits:Bt,_extend:de,log:ge,isBuffer:le,isPrimitive:ue,isFunction:ae,isError:se,isDate:ie,isObject:oe,isRegExp:ne,isUndefined:re,isSymbol:ee,isString:te,isNumber:Xt,isNullOrUndefined:Qt,isNull:Zt,isBoolean:Kt,isArray:qt,inspect:zt,deprecate:Ft,format:Mt,debuglog:Vt},me=Object.freeze({__proto__:null,format:Mt,deprecate:Ft,debuglog:Vt,inspect:zt,isArray:qt,isBoolean:Kt,isNull:Zt,isNullOrUndefined:Qt,isNumber:Xt,isString:te,isSymbol:ee,isUndefined:re,isRegExp:ne,isObject:oe,isDate:ie,isError:se,isFunction:ae,isPrimitive:ue,isBuffer:le,log:ge,inherits:Bt,_extend:de,default:ve});class $e{constructor(t){Array.isArray(t)||(t=[]),this._args=t,this.taps=[],this.interceptors=[],this.call=this._call,this.promise=this._promise,this.callAsync=this._callAsync,this._x=void 0}compile(t){throw new Error("Abstract: should be overriden")}_createCall(t){return this.compile({taps:this.taps,interceptors:this.interceptors,args:this._args,type:t})}tap(t,e){if("string"==typeof t&&(t={name:t}),"object"!=typeof t||null===t)throw new Error("Invalid arguments to tap(options: Object, fn: function)");if("string"!=typeof(t=Object.assign({type:"sync",fn:e},t)).name||""===t.name)throw new Error("Missing name for tap");t=this._runRegisterInterceptors(t),this._insert(t)}tapAsync(t,e){if("string"==typeof t&&(t={name:t}),"object"!=typeof t||null===t)throw new Error("Invalid arguments to tapAsync(options: Object, fn: function)");if("string"!=typeof(t=Object.assign({type:"async",fn:e},t)).name||""===t.name)throw new Error("Missing name for tapAsync");t=this._runRegisterInterceptors(t),this._insert(t)}tapPromise(t,e){if("string"==typeof t&&(t={name:t}),"object"!=typeof t||null===t)throw new Error("Invalid arguments to tapPromise(options: Object, fn: function)");if("string"!=typeof(t=Object.assign({type:"promise",fn:e},t)).name||""===t.name)throw new Error("Missing name for tapPromise");t=this._runRegisterInterceptors(t),this._insert(t)}_runRegisterInterceptors(t){for(const e of this.interceptors)if(e.register){const r=e.register(t);void 0!==r&&(t=r)}return t}withOptions(t){const e=e=>Object.assign({},t,"string"==typeof e?{name:e}:e);t=Object.assign({},t,this._withOptions);const r=this._withOptionsBase||this,n=Object.create(r);return n.tapAsync=(t,n)=>r.tapAsync(e(t),n),n.tap=(t,n)=>r.tap(e(t),n),n.tapPromise=(t,n)=>r.tapPromise(e(t),n),n._withOptions=t,n._withOptionsBase=r,n}isUsed(){return this.taps.length>0||this.interceptors.length>0}intercept(t){if(this._resetCompilation(),this.interceptors.push(Object.assign({},t)),t.register)for(let e=0;e<this.taps.length;e++)this.taps[e]=t.register(this.taps[e])}_resetCompilation(){this.call=this._call,this.callAsync=this._callAsync,this.promise=this._promise}_insert(t){let e;this._resetCompilation(),"string"==typeof t.before?e=new Set([t.before]):Array.isArray(t.before)&&(e=new Set(t.before));let r=0;"number"==typeof t.stage&&(r=t.stage);let n=this.taps.length;for(;n>0;){n--;const t=this.taps[n];this.taps[n+1]=t;const o=t.stage||0;if(e){if(e.has(t.name)){e.delete(t.name);continue}if(e.size>0)continue}if(!(o>r)){n++;break}}this.taps[n]=t}}function be(t,e){return function(...r){return this[t]=this._createCall(e),this[t](...r)}}Object.defineProperties($e.prototype,{_call:{value:be("call","sync"),configurable:!0,writable:!0},_promise:{value:be("promise","promise"),configurable:!0,writable:!0},_callAsync:{value:be("callAsync","async"),configurable:!0,writable:!0}});var we=$e;var _e=class{constructor(t){this.config=t,this.options=void 0,this._args=void 0}create(t){let e;switch(this.init(t),this.options.type){case"sync":e=new Function(this.args(),'"use strict";\n'+this.header()+this.content({onError:t=>`throw ${t};\n`,onResult:t=>`return ${t};\n`,resultReturns:!0,onDone:()=>"",rethrowIfPossible:!0}));break;case"async":e=new Function(this.args({after:"_callback"}),'"use strict";\n'+this.header()+this.content({onError:t=>`_callback(${t});\n`,onResult:t=>`_callback(null, ${t});\n`,onDone:()=>"_callback();\n"}));break;case"promise":let t=!1;const r=this.content({onError:e=>(t=!0,`_error(${e});\n`),onResult:t=>`_resolve(${t});\n`,onDone:()=>"_resolve();\n"});let n="";n+='"use strict";\n',n+="return new Promise((_resolve, _reject) => {\n",t&&(n+="var _sync = true;\n",n+="function _error(_err) {\n",n+="if(_sync)\n",n+="_resolve(Promise.resolve().then(() => { throw _err; }));\n",n+="else\n",n+="_reject(_err);\n",n+="};\n"),n+=this.header(),n+=r,t&&(n+="_sync = false;\n"),n+="});\n",e=new Function(this.args(),n)}return this.deinit(),e}setup(t,e){t._x=e.taps.map(t=>t.fn)}init(t){this.options=t,this._args=t.args.slice()}deinit(){this.options=void 0,this._args=void 0}header(){let t="";this.needContext()?t+="var _context = {};\n":t+="var _context;\n",t+="var _x = this._x;\n",this.options.interceptors.length>0&&(t+="var _taps = this.taps;\n",t+="var _interceptors = this.interceptors;\n");for(let e=0;e<this.options.interceptors.length;e++){const r=this.options.interceptors[e];r.call&&(t+=`${this.getInterceptor(e)}.call(${this.args({before:r.context?"_context":void 0})});\n`)}return t}needContext(){for(const t of this.options.taps)if(t.context)return!0;return!1}callTap(t,{onError:e,onResult:r,onDone:n,rethrowIfPossible:o}){let i="",s=!1;for(let e=0;e<this.options.interceptors.length;e++){const r=this.options.interceptors[e];r.tap&&(s||(i+=`var _tap${t} = ${this.getTap(t)};\n`,s=!0),i+=`${this.getInterceptor(e)}.tap(${r.context?"_context, ":""}_tap${t});\n`)}i+=`var _fn${t} = ${this.getTapFn(t)};\n`;const a=this.options.taps[t];switch(a.type){case"sync":o||(i+=`var _hasError${t} = false;\n`,i+="try {\n"),i+=r?`var _result${t} = _fn${t}(${this.args({before:a.context?"_context":void 0})});\n`:`_fn${t}(${this.args({before:a.context?"_context":void 0})});\n`,o||(i+="} catch(_err) {\n",i+=`_hasError${t} = true;\n`,i+=e("_err"),i+="}\n",i+=`if(!_hasError${t}) {\n`),r&&(i+=r("_result"+t)),n&&(i+=n()),o||(i+="}\n");break;case"async":let s="";s+=r?`(_err${t}, _result${t}) => {\n`:`_err${t} => {\n`,s+=`if(_err${t}) {\n`,s+=e("_err"+t),s+="} else {\n",r&&(s+=r("_result"+t)),n&&(s+=n()),s+="}\n",s+="}",i+=`_fn${t}(${this.args({before:a.context?"_context":void 0,after:s})});\n`;break;case"promise":i+=`var _hasResult${t} = false;\n`,i+=`var _promise${t} = _fn${t}(${this.args({before:a.context?"_context":void 0})});\n`,i+=`if (!_promise${t} || !_promise${t}.then)\n`,i+=`  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise${t} + ')');\n`,i+=`_promise${t}.then(_result${t} => {\n`,i+=`_hasResult${t} = true;\n`,r&&(i+=r("_result"+t)),n&&(i+=n()),i+=`}, _err${t} => {\n`,i+=`if(_hasResult${t}) throw _err${t};\n`,i+=e("_err"+t),i+="});\n"}return i}callTapsSeries({onError:t,onResult:e,resultReturns:r,onDone:n,doneReturns:o,rethrowIfPossible:i}){if(0===this.options.taps.length)return n();const s=this.options.taps.findIndex(t=>"sync"!==t.type),a=r||o||!1;let u="",l=n;for(let r=this.options.taps.length-1;r>=0;r--){const o=r;l!==n&&"sync"!==this.options.taps[o].type&&(u+=`function _next${o}() {\n`,u+=l(),u+="}\n",l=()=>`${a?"return ":""}_next${o}();\n`);const c=l,p=t=>t?"":n(),f=this.callTap(o,{onError:e=>t(o,e,c,p),onResult:e&&(t=>e(o,t,c,p)),onDone:!e&&c,rethrowIfPossible:i&&(s<0||o<s)});l=()=>f}return u+=l(),u}callTapsLooping({onError:t,onDone:e,rethrowIfPossible:r}){if(0===this.options.taps.length)return e();const n=this.options.taps.every(t=>"sync"===t.type);let o="";n||(o+="var _looper = () => {\n",o+="var _loopAsync = false;\n"),o+="var _loop;\n",o+="do {\n",o+="_loop = false;\n";for(let t=0;t<this.options.interceptors.length;t++){const e=this.options.interceptors[t];e.loop&&(o+=`${this.getInterceptor(t)}.loop(${this.args({before:e.context?"_context":void 0})});\n`)}return o+=this.callTapsSeries({onError:t,onResult:(t,e,r,o)=>{let i="";return i+=`if(${e} !== undefined) {\n`,i+="_loop = true;\n",n||(i+="if(_loopAsync) _looper();\n"),i+=o(!0),i+="} else {\n",i+=r(),i+="}\n",i},onDone:e&&(()=>{let t="";return t+="if(!_loop) {\n",t+=e(),t+="}\n",t}),rethrowIfPossible:r&&n}),o+="} while(_loop);\n",n||(o+="_loopAsync = true;\n",o+="};\n",o+="_looper();\n"),o}callTapsParallel({onError:t,onResult:e,onDone:r,rethrowIfPossible:n,onTap:o=((t,e)=>e())}){if(this.options.taps.length<=1)return this.callTapsSeries({onError:t,onResult:e,onDone:r,rethrowIfPossible:n});let i="";i+="do {\n",i+=`var _counter = ${this.options.taps.length};\n`,r&&(i+="var _done = () => {\n",i+=r(),i+="};\n");for(let s=0;s<this.options.taps.length;s++){const a=()=>r?"if(--_counter === 0) _done();\n":"--_counter;",u=t=>t||!r?"_counter = 0;\n":"_counter = 0;\n_done();\n";i+="if(_counter <= 0) break;\n",i+=o(s,()=>this.callTap(s,{onError:e=>{let r="";return r+="if(_counter > 0) {\n",r+=t(s,e,a,u),r+="}\n",r},onResult:e&&(t=>{let r="";return r+="if(_counter > 0) {\n",r+=e(s,t,a,u),r+="}\n",r}),onDone:!e&&(()=>a()),rethrowIfPossible:n}),a,u)}return i+="} while(false);\n",i}args({before:t,after:e}={}){let r=this._args;return t&&(r=[t].concat(r)),e&&(r=r.concat(e)),0===r.length?"":r.join(", ")}getTapFn(t){return`_x[${t}]`}getTap(t){return`_taps[${t}]`}getInterceptor(t){return`_interceptors[${t}]`}};const Ee=new class extends _e{content({onError:t,onResult:e,resultReturns:r,onDone:n,rethrowIfPossible:o}){return this.callTapsSeries({onError:(e,r)=>t(r),onResult:(t,r,n)=>`if(${r} !== undefined) {\n${e(r)};\n} else {\n${n()}}\n`,resultReturns:r,onDone:n,rethrowIfPossible:o})}};var ke=class extends we{tapAsync(){throw new Error("tapAsync is not supported on a SyncBailHook")}tapPromise(){throw new Error("tapPromise is not supported on a SyncBailHook")}compile(t){return Ee.setup(this,t),Ee.create(t)}};function Re(){this._pluginCompat=new ke(["options"]),this._pluginCompat.tap({name:"Tapable camelCase",stage:100},t=>{t.names.add(t.name.replace(/[- ]([a-z])/g,(t,e)=>e.toUpperCase()))}),this._pluginCompat.tap({name:"Tapable this.hooks",stage:200},t=>{let e;for(const r of t.names)if(e=this.hooks[r],void 0!==e)break;if(void 0!==e){const r={name:t.fn.name||"unnamed compat plugin",stage:t.stage||0};return t.async?e.tapAsync(r,t.fn):e.tap(r,t.fn),!0}})}var Pe=Re;Re.addCompatLayer=function(t){Re.call(t),t.plugin=Re.prototype.plugin,t.apply=Re.prototype.apply},Re.prototype.plugin=me.deprecate((function(t,e){if(Array.isArray(t))return void t.forEach((function(t){this.plugin(t,e)}),this);if(!this._pluginCompat.call({name:t,fn:e,names:new Set([t])}))throw new Error(`Plugin could not be registered at '${t}'. Hook was not found.\nBREAKING CHANGE: There need to exist a hook at 'this.hooks'. To create a compatibility layer for this hook, hook into 'this._pluginCompat'.`)}),"Tapable.plugin is deprecated. Use new API on `.hooks` instead"),Re.prototype.apply=me.deprecate((function(){for(var t=0;t<arguments.length;t++)arguments[t].apply(this)}),"Tapable.apply is deprecated. Call apply on the plugin directly instead");const Ae=new class extends _e{content({onError:t,onDone:e,rethrowIfPossible:r}){return this.callTapsSeries({onError:(e,r)=>t(r),onDone:e,rethrowIfPossible:r})}};var Se=class extends we{tapAsync(){throw new Error("tapAsync is not supported on a SyncHook")}tapPromise(){throw new Error("tapPromise is not supported on a SyncHook")}compile(t){return Ae.setup(this,t),Ae.create(t)}};const Oe=new class extends _e{content({onError:t,onResult:e,resultReturns:r,rethrowIfPossible:n}){return this.callTapsSeries({onError:(e,r)=>t(r),onResult:(t,e,r)=>{let n="";return n+=`if(${e} !== undefined) {\n`,n+=`${this._args[0]} = ${e};\n`,n+="}\n",n+=r(),n},onDone:()=>e(this._args[0]),doneReturns:r,rethrowIfPossible:n})}};var De=class extends we{constructor(t){if(super(t),t.length<1)throw new Error("Waterfall hooks must have at least one argument")}tapAsync(){throw new Error("tapAsync is not supported on a SyncWaterfallHook")}tapPromise(){throw new Error("tapPromise is not supported on a SyncWaterfallHook")}compile(t){return Oe.setup(this,t),Oe.create(t)}};const Te=new class extends _e{content({onError:t,onDone:e,rethrowIfPossible:r}){return this.callTapsLooping({onError:(e,r)=>t(r),onDone:e,rethrowIfPossible:r})}};var xe=class extends we{tapAsync(){throw new Error("tapAsync is not supported on a SyncLoopHook")}tapPromise(){throw new Error("tapPromise is not supported on a SyncLoopHook")}compile(t){return Te.setup(this,t),Te.create(t)}};const je=new class extends _e{content({onError:t,onDone:e}){return this.callTapsParallel({onError:(e,r,n,o)=>t(r)+o(!0),onDone:e})}};class Ie extends we{compile(t){return je.setup(this,t),je.create(t)}}Object.defineProperties(Ie.prototype,{_call:{value:void 0,configurable:!0,writable:!0}});var Ce=Ie;const Be=new class extends _e{content({onError:t,onResult:e,onDone:r}){let n="";return n+=`var _results = new Array(${this.options.taps.length});\n`,n+="var _checkDone = () => {\n",n+="for(var i = 0; i < _results.length; i++) {\n",n+="var item = _results[i];\n",n+="if(item === undefined) return false;\n",n+="if(item.result !== undefined) {\n",n+=e("item.result"),n+="return true;\n",n+="}\n",n+="if(item.error) {\n",n+=t("item.error"),n+="return true;\n",n+="}\n",n+="}\n",n+="return false;\n",n+="}\n",n+=this.callTapsParallel({onError:(t,e,r,n)=>{let o="";return o+=`if(${t} < _results.length && ((_results.length = ${t+1}), (_results[${t}] = { error: ${e} }), _checkDone())) {\n`,o+=n(!0),o+="} else {\n",o+=r(),o+="}\n",o},onResult:(t,e,r,n)=>{let o="";return o+=`if(${t} < _results.length && (${e} !== undefined && (_results.length = ${t+1}), (_results[${t}] = { result: ${e} }), _checkDone())) {\n`,o+=n(!0),o+="} else {\n",o+=r(),o+="}\n",o},onTap:(t,e,r,n)=>{let o="";return t>0&&(o+=`if(${t} >= _results.length) {\n`,o+=r(),o+="} else {\n"),o+=e(),t>0&&(o+="}\n"),o},onDone:r}),n}};class Ue extends we{compile(t){return Be.setup(this,t),Be.create(t)}}Object.defineProperties(Ue.prototype,{_call:{value:void 0,configurable:!0,writable:!0}});var Me=Ue;const Fe=new class extends _e{content({onError:t,onDone:e}){return this.callTapsSeries({onError:(e,r,n,o)=>t(r)+o(!0),onDone:e})}};class Ye extends we{compile(t){return Fe.setup(this,t),Fe.create(t)}}Object.defineProperties(Ye.prototype,{_call:{value:void 0,configurable:!0,writable:!0}});var He=Ye;const Ve=new class extends _e{content({onError:t,onResult:e,resultReturns:r,onDone:n}){return this.callTapsSeries({onError:(e,r,n,o)=>t(r)+o(!0),onResult:(t,r,n)=>`if(${r} !== undefined) {\n${e(r)};\n} else {\n${n()}}\n`,resultReturns:r,onDone:n})}};class ze extends we{compile(t){return Ve.setup(this,t),Ve.create(t)}}Object.defineProperties(ze.prototype,{_call:{value:void 0,configurable:!0,writable:!0}});var Le=ze;const Ne=new class extends _e{content({onError:t,onResult:e,onDone:r}){return this.callTapsSeries({onError:(e,r,n,o)=>t(r)+o(!0),onResult:(t,e,r)=>{let n="";return n+=`if(${e} !== undefined) {\n`,n+=`${this._args[0]} = ${e};\n`,n+="}\n",n+=r(),n},onDone:()=>e(this._args[0])})}};class We extends we{constructor(t){if(super(t),t.length<1)throw new Error("Waterfall hooks must have at least one argument")}compile(t){return Ne.setup(this,t),Ne.create(t)}}Object.defineProperties(We.prototype,{_call:{value:void 0,configurable:!0,writable:!0}});var Je=We;var Ge=class{constructor(t){this._map=new Map,this._factory=t,this._interceptors=[]}get(t){return this._map.get(t)}for(t){const e=this.get(t);if(void 0!==e)return e;let r=this._factory(t);const n=this._interceptors;for(let e=0;e<n.length;e++)r=n[e].factory(t,r);return this._map.set(t,r),r}intercept(t){this._interceptors.push(Object.assign({factory:(t,e)=>e},t))}tap(t,e,r){return this.for(t).tap(e,r)}tapAsync(t,e,r){return this.for(t).tapAsync(e,r)}tapPromise(t,e,r){return this.for(t).tapPromise(e,r)}};class qe{constructor(t){this.hooks=t}tap(t,e){for(const r of this.hooks)r.tap(t,e)}tapAsync(t,e){for(const r of this.hooks)r.tapAsync(t,e)}tapPromise(t,e){for(const r of this.hooks)r.tapPromise(t,e)}isUsed(){for(const t of this.hooks)if(t.isUsed())return!0;return!1}intercept(t){for(const e of this.hooks)e.intercept(t)}withOptions(t){return new qe(this.hooks.map(e=>e.withOptions(t)))}}var Ke=qe,Ze=B(function(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}((function(t,e){e.__esModule=!0,e.Tapable=Pe,e.SyncHook=Se,e.SyncBailHook=ke,e.SyncWaterfallHook=De,e.SyncLoopHook=xe,e.AsyncParallelHook=Ce,e.AsyncParallelBailHook=Me,e.AsyncSeriesHook=He,e.AsyncSeriesBailHook=Le,e.AsyncSeriesWaterfallHook=Je,e.HookMap=Ge,e.MultiHook=Ke}))),Qe=function(){function t(t,e,n,o,i){if(this.$rootForm=t,this.$rootWrapper=e,this.$rootSchema=n,this.$path=o,this.$states=r(r({},this.$states),{messages:{}}),this.$lastRuleResults={},this.$hooks=r(r({},this.$hooks),{onCreated:new Ze.SyncHook(["validator"]),onBeforeValidate:new Ze.SyncHook(["validator"]),onDoBeforeValidate:new Ze.SyncHook(["validator"]),onValidated:new Ze.SyncHook(["validator"]),onDoValidated:new Ze.SyncHook(["validator"]),onValidatedEach:new Ze.SyncHook(["validator","ruleKey"]),onDoValidatedEach:new Ze.SyncHook(["validator","ruleKey"]),onBeforeReset:new Ze.SyncHook(["validator"]),onDoBeforeReset:new Ze.SyncHook(["validator"]),onReseted:new Ze.SyncHook(["validator"]),onDoReseted:new Ze.SyncHook(["validator"])}),i)for(var s=0,a=i;s<a.length;s++){var u=a[s];"function"==typeof u?u(this):u.apply(this)}}return t.prototype.validate=function(){var t=this;this.$hooks.onBeforeValidate.call(this);for(var e=this.doValidate(),r=function(r){A(e[r])?e[r].finally((function(){t.$lastRuleResults===e&&t.$hooks.onValidatedEach.call(t,r)})):n.$hooks.onValidatedEach.call(n,r)},n=this,o=0,i=O(e);o<i.length;o++){r(i[o])}return Object.values(e).some(A)?Promise.all(Object.values(e)).then((function(){t.$hooks.onValidated.call(t)})):void this.$hooks.onValidated.call(this)},t.prototype.doValidate=function(){var t=this;this.$hooks.onDoBeforeValidate.call(this);var e=this.getSchema(this.$path);if(!1!==e.$noSchemaSpecified){var i={value:this.getForm(this.$path),key:0===this.$path.length?void 0:this.$path[this.$path.length],parent:0===this.$path.length?void 0:this.getForm(this.$path.slice(0,-1)),path:this.$path.slice(),root:this.$rootWrapper,params:e.$params};i.value=e.$normalizer(i);for(var s=this.$lastRuleResults={},a=function(a){var l;if(s[a]=e.$rules[a](i),A(s[a]))s[a].finally((function(){return n(t,void 0,void 0,(function(){var t,n,u;return o(this,(function(o){switch(o.label){case 0:return this.$lastRuleResults!==s?[2]:[4,s[a]];case 1:return t=o.sent(),n=e.$messages[a](r(r({},i),{params:r(r({},i.params),{$rules:(u={},u[a]=t,u)})})),this.$states.messages[a]=n,this.$hooks.onDoValidatedEach.call(this,a),[2]}}))}))}));else{var c=e.$messages[a](r(r({},i),{params:r(r({},i.params),{$rules:(l={},l[a]=s[a],l)})}));u.$states.messages[a]=c,u.$hooks.onDoValidatedEach.call(u,a)}},u=this,l=0,c=O(e.$rules);l<c.length;l++){a(c[l])}return Object.values(s).some(A)?Promise.all(Object.values(s)).then((function(){return t.$hooks.onDoValidated.call(t)})).then((function(){return s})):(this.$hooks.onDoValidated.call(this),s)}this.$hooks.onDoValidated.call(this)},t.prototype.reset=function(){this.$hooks.onBeforeReset.call(this),this.doReset(),this.$hooks.onReseted.call(this)},t.prototype.doReset=function(){this.$hooks.onDoBeforeReset.call(this),this.$states.messages={},this.$lastRuleResults={},this.$hooks.onDoReseted.call(this)},t.prototype.getWrapper=function(t){return D(this.$rootWrapper,t)},t.prototype.getForm=function(t){return D(this.$rootForm,t)},t.prototype.getSchema=function(t){return j({rootSchema:this.$rootSchema,path:t})},t}(),Xe=function(t){for(var e=t.validator,r=t.callback,n=t.shouldCallSelf,o=void 0!==n&&n,i=e.$rootWrapper,s=e.$path.slice().reverse(),a=i,u=[a];s.length;){a=a[s.pop()],u.push(a)}!1===o&&u.pop();for(var l=0,c=u.reverse();l<c.length;l++){if(r(c[l]))return}},tr=function(t){var e=t.validator,r=t.callback,n=t.shouldCallSelf,o=void 0!==n&&n,i=e.getWrapper(e.$path),s=[i.$v],a=[];for(o&&r(i);s.length;){var u=s.pop(),l=u.getForm(u.$path),c=u.getWrapper(u.$path);if(R(l)||P(l))for(var p=0,f=O(l);p<f.length;p++){var h=c[f[p]];if(void 0!==h.$v){if(r(h))return;a.push(h.$v)}}0===s.length&&(s=a.reverse(),a=[])}},er=function(t){Xe({validator:t,callback:function(e){var r=e.$v,n=t.getForm(r.$path);return r.$states.anyDirty=!0===r.$states.dirty||O(n).filter((function(t){return S(r,t)})).map((function(t){return e[t].$v})).some((function(t){return!0===t.$states.dirty||!0===t.$states.anyDirty})),!1},shouldCallSelf:!0})},rr=function(t){Xe({validator:t,callback:function(e){var r=e.$v,n=t.getForm(r.$path);return r.$states.anyDirty=!0===r.$states.dirty||O(n).map((function(t){return e[t].$v})).some((function(t){return!0===t.$states.dirty||!0===t.$states.anyDirty})),!1},shouldCallSelf:!0})},nr=function(){function t(){}return t.prototype.apply=function(t){t.$hooks.onCreated.tap("any-dirty-plugin",er),t.$hooks.onDoTouched.tap("any-dirty-plugin",rr),t.$hooks.onDoReseted.tap("any-dirty-plugin",rr)},t}(),or=function(t){Xe({validator:t,callback:function(e){var r=e.$v,n=t.getForm(r.$path);return r.$states.anyError=!0===r.$states.error||O(n).filter((function(t){return S(r,t)})).map((function(t){return e[t].$v})).some((function(t){return!0===t.$states.error||!0===t.$states.anyError})),!1},shouldCallSelf:!0})},ir=function(t){Xe({validator:t,callback:function(e){var r=e.$v,n=t.getForm(r.$path);return r.$states.anyError=!0===r.$states.error||O(n).map((function(t){return e[t].$v})).some((function(t){return!0===t.$states.error||!0===t.$states.anyError})),!1},shouldCallSelf:!0})},sr=function(){function t(){}return t.prototype.apply=function(t){t.$hooks.onCreated.tap("any-error-plugin",or),t.$hooks.onDoTouched.tap("any-error-plugin",ir),t.$hooks.onDoValidatedEach.tap("any-error-plugin",ir),t.$hooks.onDoReseted.tap("any-error-plugin",ir)},t}(),ar=function(t){Xe({validator:t,callback:function(e){var r=e.$v,n=t.getForm(r.$path);return r.$states.anyInvalid=!0===r.$states.invalid||O(n).filter((function(t){return S(r,t)})).map((function(t){return e[t].$v})).some((function(t){return!0===t.$states.invalid||!0===t.$states.anyInvalid})),!1},shouldCallSelf:!0})},ur=function(t){Xe({validator:t,callback:function(e){var r=e.$v,n=t.getForm(r.$path);return r.$states.anyInvalid=!0===r.$states.invalid||O(n).map((function(t){return e[t].$v})).some((function(t){return!0===t.$states.invalid||!0===t.$states.anyInvalid})),!1},shouldCallSelf:!0})},lr={name:"any-invalid-plugin",before:["any-error-plugin"]},cr=function(){function t(){}return t.prototype.apply=function(t){t.$hooks.onCreated.tap(lr,ar),t.$hooks.onDoBeforeValidate.tap(lr,ur),t.$hooks.onDoValidatedEach.tap(lr,ur),t.$hooks.onDoReseted.tap(lr,ur)},t}(),pr=function(t){Xe({validator:t,callback:function(e){var r=e.$v,n=t.getForm(r.$path);return r.$states.anyPending=!0===r.$states.pending||O(n).filter((function(t){return S(r,t)})).map((function(t){return e[t].$v})).some((function(t){return!0===t.$states.pending||!0===t.$states.anyPending})),!1},shouldCallSelf:!0})},fr=function(t){Xe({validator:t,callback:function(e){var r=e.$v,n=t.getForm(r.$path);return r.$states.anyPending=!0===r.$states.pending||O(n).map((function(t){return e[t].$v})).some((function(t){return!0===t.$states.pending||!0===t.$states.anyPending})),!1},shouldCallSelf:!0})},hr=function(){function t(){}return t.prototype.apply=function(t){t.$hooks.onCreated.tap("any-pending-plugin",pr),t.$hooks.onDoBeforeValidate.tap("any-pending-plugin",fr),t.$hooks.onDoValidated.tap("any-pending-plugin",fr),t.$hooks.onDoReseted.tap("any-pending-plugin",fr)},t}(),gr=new WeakMap;function dr(t){var e=gr.get(this.$rootForm),r=t.join(".");return!1===e.$rootForm.has(r)&&e.$rootForm.set(r,D(this.$rootForm,t)),e.$rootForm.get(r)}function yr(t){var e=gr.get(this.$rootForm),r=t.join(".");return!1===e.$rootWrapper.has(r)&&e.$rootWrapper.set(r,D(this.$rootWrapper,t)),e.$rootWrapper.get(r)}function vr(t){var e=gr.get(this.$rootForm),r=t.join(".");return!1===e.$rootSchema.has(r)&&e.$rootSchema.set(r,j({rootSchema:this.$rootSchema,path:t})),e.$rootSchema.get(r)}function mr(){for(var t=gr.get(this.$rootForm),e=this.$path.join("."),r=0,n=Array.from(t.$rootForm.keys());r<n.length;r++){((u=n[r]).startsWith(e+".")||u===e)&&t.$rootForm.delete(u)}for(var o=0,i=Array.from(t.$rootWrapper.keys());o<i.length;o++){((u=i[o]).startsWith(e+".")||u===e)&&t.$rootWrapper.delete(u)}for(var s=0,a=Array.from(t.$rootSchema.keys());s<a.length;s++){var u;((u=a[s]).startsWith(e+".")||u===e)&&t.$rootSchema.delete(u)}}var $r={name:"cache-plugin"},br=function(){function t(){this.applied=!1}return t.prototype.apply=function(t){var e;(t.$hooks.onCreated.tap($r,mr.bind(t)),this.applied)||(this.applied=!0,e=t.$rootForm,gr.set(e,{$rootForm:new Map,$rootWrapper:new Map,$rootSchema:new Map}),t.constructor.prototype.getForm=dr.bind(t),t.constructor.prototype.getWrapper=yr.bind(t),t.constructor.prototype.getSchema=vr.bind(t))},t}();function wr(t){t.$states.dirty=!0}var _r=function(t){t.$states.dirty=!1},Er={name:"dirty-plugin",before:["error-plugin","any-dirty-plugin","any-error-plugin"]},kr=function(){function t(){}return t.prototype.apply=function(t){t.$hooks.onCreated.tap(Er,_r),t.$hooks.onDoTouched.tap(Er,wr),t.$hooks.onDoReseted.tap(Er,_r)},t}(),Rr=function(t){t.$states.error=!0===t.$states.dirty&&Object.values(t.$states.messages).some((function(t){return void 0!==t}))},Pr=function(t){t.$states.error=!1},Ar={name:"error-plugin",before:["any-error-plugin"]},Sr=function(){function t(){}return t.prototype.apply=function(t){t.$hooks.onCreated.tap(Ar,Pr),t.$hooks.onDoTouched.tap(Ar,Rr),t.$hooks.onDoValidatedEach.tap(Ar,Rr),t.$hooks.onDoReseted.tap(Ar,Pr)},t}(),Or=function(t){t.$states.invalid=Object.values(t.$lastRuleResults).some((function(t){return!1===A(t)&&void 0!==t}))},Dr=function(t){t.$states.invalid=!1},Tr={name:"invalid-plugin",before:["any-invalid-plugin","error-plugin","any-error-plugin"]},xr=function(){function t(){}return t.prototype.apply=function(t){t.$hooks.onCreated.tap(Tr,Dr),t.$hooks.onDoBeforeValidate.tap(Tr,Dr),t.$hooks.onDoValidatedEach.tap(Tr,Or),t.$hooks.onDoReseted.tap(Tr,Dr)},t}(),jr=function(t){t.$states.pending=!0},Ir=function(t){t.$states.pending=!1},Cr={name:"pending-plugin",before:["any-pending-plugin"]},Br=function(){function t(){}return t.prototype.apply=function(t){t.$hooks.onCreated.tap(Cr,Ir),t.$hooks.onDoBeforeValidate.tap(Cr,jr),t.$hooks.onDoValidated.tap(Cr,Ir),t.$hooks.onDoReseted.tap(Cr,Ir)},t}(),Ur=function(t){var e=t.$path;if(0!==e.length){var r=e.slice(),n=r.pop(),o=t.getForm(r),i=t.getWrapper(r),s=P(o);void 0!==i.$iter&&P(i.$iter)===s||(i.$iter=s?[]:{}),i.$iter[n]=i[n]}},Mr={name:"iter-plugin"},Fr=function(){function t(){}return t.prototype.apply=function(t){t.$hooks.onCreated.tap(Mr,Ur)},t}(),Yr=function(){function t(){this.applied=!1}return t.prototype.apply=function(t){var e;this.applied||(this.applied=!0,t.constructor.prototype.doReset=(e=t.constructor.prototype.doReset,function(){var t=[];return tr({validator:this,callback:function(r){return t.push(e.call(r.$v)),!1},shouldCallSelf:!0}),Promise.all(t)}))},t}(),Hr=function(){function t(){this.applied=!1}return t.prototype.apply=function(t){var e;this.applied||(this.applied=!0,t.constructor.prototype.doTouch=(e=t.constructor.prototype.doTouch,function(){var t=[];return tr({validator:this,callback:function(r){return t.push(e.call(r.$v)),!1},shouldCallSelf:!0}),Promise.all(t)}))},t}(),Vr=function(){function t(){this.applied=!1}return t.prototype.apply=function(t){var e;this.applied||(this.applied=!0,t.constructor.prototype.doValidate=(e=t.constructor.prototype.doValidate,function(){var t=[];return tr({validator:this,callback:function(r){return t.push(e.call(r.$v)),!1},shouldCallSelf:!0}),Promise.all(t)}))},t}();function zr(){this.doTouch(),this.$hooks.onTouched.call(this)}function Lr(){this.$hooks.onDoTouched.call(this)}var Nr=function(){function t(){this.applied=!1}return t.prototype.apply=function(t){t.$hooks.onTouched=new Ze.SyncHook(["validator"]),t.$hooks.onDoTouched=new Ze.SyncHook(["validator"]),this.applied||(this.applied=!0,t.constructor.prototype.touch=zr,t.constructor.prototype.doTouch=Lr)},t}(),Wr=function(t){t.$states.validated=!0},Jr=function(t){t.$states.validated=!1},Gr=function(){function t(){}return t.prototype.apply=function(t){t.$hooks.onCreated.tap("validated-plugin",Jr),t.$hooks.onDoBeforeValidate.tap("validated-plugin",Wr),t.$hooks.onDoReseted.tap("validated-plugin",Jr)},t}(),qr=function(){function t(t){this.aliases=t}return t.prototype.apply=function(t){var e=this;t.$hooks.onCreated.tap("alias-plugin",(function(){return e.alias(t.getWrapper(t.$path))}))},t.prototype.alias=function(t){for(var e,r=function(r,n){var o=null===(e=t.$v)||void 0===e?void 0:e.getWrapper(n.slice(0,-1)),i=n[n.length-1];Object.defineProperty(o,i,{configurable:!0,enumerable:!0,get:function(){var e;return null===(e=t.$v)||void 0===e?void 0:e.getWrapper(r)}})},n=0,o=this.aliases;n<o.length;n++){var i=o[n];r(i.path,i.aliasPath)}},t}();t.AliasPlugin=qr,t.AnyDirtyPlugin=nr,t.AnyErrorPlugin=sr,t.AnyInvalidPlugin=cr,t.AnyPendingPlugin=hr,t.CachePlugin=br,t.DirtyPlugin=kr,t.ErrorPlugin=Sr,t.InvalidPlugin=xr,t.IterPlugin=Fr,t.PendingPlugin=Br,t.RecursiveResetPlugin=Yr,t.RecursiveTouchPlugin=Hr,t.RecursiveValidatePlugin=Vr,t.TouchPlugin=Nr,t.ValidatedPlugin=Gr,t.Validator=Qe,t.proxy=function(t){var r=t.form,n=t.schema,o=t.plugins,i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}(r,t),r}(Qe),s=r,a=x(n),u={};return u.$v=new i(s,u,a,[],o),u.$v.$hooks.onCreated.call(u.$v),{proxiedForm:v({object:r,detto:u,callback:function(t,e){void 0===t.$v&&(t.$v=new i(s,u,a,e,o)),t.$v.$path=e,t.$v.$hooks.onCreated.call(t.$v)}}),validationWrapper:u}},t.recursiveCallChildren=tr,t.recursiveCallParent=Xe,Object.defineProperty(t,"__esModule",{value:!0})}));
